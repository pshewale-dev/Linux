#!/bin/bash

# Output CSV file
output_file="server_output.csv"

# Telnet function
telnet_server() {
    local server=$1
    local port=$2
    # Replace the command below with your desired telnet command
    # Example: telnet $server $port
    telnet $server $port 2>&1
}

# Ping function
ping_server() {
    local server=$1
    # Replace the command below with your desired ping command
    # Example: ping -c 4 $server
    ping -c 4 $server 2>&1
}

# Create or truncate the output CSV file
echo "Server, Telnet 80, Telnet 8443, Ping" > $output_file

# Telnet to server 10.246.215.117 on port 80
telnet_80=$(telnet_server "10.246.215.117" 80)

# Telnet to server 10.246.215.117 on port 8443
telnet_8443=$(telnet_server "10.246.215.117" 8443)

# Ping server 10.246.215.117
ping_output_1=$(ping_server "10.246.215.117")

# Add server 10.246.215.117 results to the output CSV file
echo "10.246.215.117, \"$telnet_80\", \"$telnet_8443\", \"$ping_output_1\"" >> $output_file

# Telnet to server 10.246.211.157 on port 80
telnet_80=$(telnet_server "10.246.211.157" 80)

# Telnet to server 10.246.211.157 on port 8443
telnet_8443=$(telnet_server "10.246.211.157" 8443)

# Ping server 10.246.211.157
ping_output_2=$(ping_server "10.246.211.157")

# Add server 10.246.211.157 results to the output CSV file
echo "10.246.211.157, \"$telnet_80\", \"$telnet_8443\", \"$ping_output_2\"" >> $output_file
